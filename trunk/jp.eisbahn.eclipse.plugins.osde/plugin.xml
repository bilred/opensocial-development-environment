<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.2"?>
<plugin>
   
   <extension
         point="org.eclipse.core.contenttype.contentTypes">
      <content-type
            base-type="org.eclipse.core.runtime.xml"
            file-extensions="xml"
            id="jp.eisbahn.eclipse.plugins.osde.gadgetSpecXML"
            name="Gadget Spec XML File"
            priority="high">
         <describer class="org.eclipse.core.runtime.content.XMLRootElementContentDescriber2">
            <parameter name="element" value="Module"/>
         </describer>
      </content-type>
      <content-type
            base-type="org.eclipse.core.runtime.xml"
            file-extensions="xml"
            id="jp.eisbahn.eclipse.plugins.osde.messageBundleXML"
            name="Message Bundle XML File">
         <describer class="org.eclipse.core.runtime.content.XMLRootElementContentDescriber2">
            <parameter name="element" value="messagebundle"/>
         </describer>
      </content-type>
   </extension>
   
   <extension
         id="osdeNature"
         point="org.eclipse.core.resources.natures"
         name="OpenSocial Development Environment Nature">
      <runtime>
         <run class="jp.eisbahn.eclipse.plugins.osde.internal.OsdeProjectNature" />
      </runtime>
   </extension>
   
   <extension
         point="org.eclipse.ui.decorators">
      <decorator
            lightweight="true"
            location="TOP_RIGHT"
            adaptable="true"
            label="OpenSocial Project"
            icon="icons/person_small.gif"
            state="true"
            id="jp.eisbahn.eclipse.plugins.osde.OpenSocialProjectDecorator">
         <enablement>
            <objectState
                  name="nature"
                  value="jp.eisbahn.eclipse.plugins.osde.osdeNature">
            </objectState>
         </enablement>
      </decorator>
   </extension>
   
   <extension
         id="gadgetBuilder"
         point="org.eclipse.core.resources.builders">
      <builder>
         <run
               class="jp.eisbahn.eclipse.plugins.osde.internal.builders.GadgetBuilder">
         </run>
      </builder>
   </extension>
   
   <extension
         point="org.eclipse.ui.exportWizards">
      <category
            id="jp.eisbahn.eclipse.plugins.osde.export"
            name="OSDE">
      </category>
      <wizard
            class="jp.eisbahn.eclipse.plugins.osde.internal.ui.wizards.export.OpenSocialApplicationExportWizard"
            id="jp.eisbahn.eclipse.plugins.osde.ExportWizard"
            category="jp.eisbahn.eclipse.plugins.osde.export"
            icon="icons/opensocial.gif"
            name="OpenSocial application">
         <description>
            Export the selected OpenSocial application.
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <category
        id="jp.eisbahn.eclipse.plugins.osde.newWizards"
        name="OSDE">
      </category>
      <wizard
          id="jp.eisbahn.eclipse.plugins.osde.newWizards.NewOpenSocialProjectWizard"
          name="OpenSocial Project"
          category="jp.eisbahn.eclipse.plugins.osde.newWizards"
          icon="./icons/opensocial.gif"
          project="true"
          finalPerspective="jp.eisbahn.eclipse.plugins.osde.perspective"
          class="jp.eisbahn.eclipse.plugins.osde.internal.ui.wizards.newjsprj.NewOpenSocialProjectResourceWizard">
          <description>
              Create an OpenSocial project.
          </description>
      </wizard> 
   </extension>
   
   <extension
         point = "org.eclipse.ui.editorActions">
      <editorContribution 
            id="jp.eisbahn.eclipse.plugins.osde.editorActions"
            targetID="jp.eisbahn.eclipse.plugins.osde.editors.GadgetXmlEditor">
         <action id="jp.eisbahn.eclipse.plugins.osde.editorActions.runAction"
               label="Run this application locally"
               class="jp.eisbahn.eclipse.plugins.osde.internal.runtime.RunFromEditorAction"
               definitionId="jp.eisbahn.eclipse.plugins.osde.commands.runGadgetCommand" /> 
      </editorContribution>
   </extension>
   
   <extension
         point="org.eclipse.ui.actionSets">
      <actionSet
            id="jp.eisbahn.eclipse.plugins.osde.actionSet"
            label="OSDE"
            visible="true">
         <menu
               id="opensocialMenu"
               label="&amp;OSDE">
            <separator
                  name="opensocialGroup1">
            </separator>
            <separator
                  name="opensocialGroup2">
            </separator>
            <separator
                  name="opensocialGroup3">
            </separator>
            <separator
                  name="opensocialGroup4">
            </separator>
         </menu>
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.shindig.ShowPublicCertificateAction"
               id="jp.eisbahn.eclipse.plugins.osde.internal.shindig.ShowPublicCertificateAction"
               icon="icons/icon_key.gif"
               label="Show &amp;Public Certificate"
               menubarPath="opensocialMenu/opensocialGroup3"
               tooltip="Show Public Certificate for OAuth.">
         </action>
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.runtime.RunExternalAction"
               id="jp.eisbahn.eclipse.plugins.osde.internal.runtime.RunExternalAction"
               icon="icons/icon_external.gif"
               label="Run &amp;external application"
               menubarPath="opensocialMenu/opensocialGroup2"
               toolbarPath="opensocialGroup"
               tooltip="Run the application to locate external.">
         </action>
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.runtime.RunAgainAction"
               id="jp.eisbahn.eclipse.plugins.osde.runAgainAction1"
               definitionId="jp.eisbahn.eclipse.plugins.osde.commands.runLastLaunchedGadgetCommand"
               label="Run last launched application"
               icon="icons/action_again.gif"
               menubarPath="opensocialMenu/opensocialGroup2"
               toolbarPath="opensocialGroup"
               tooltip="Run the last launched application.">
         </action>
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.runtime.RunAction"
               enablesFor="1"
               id="jp.eisbahn.eclipse.plugins.osde.runAction2"
               label="Run this application locally"
               icon="icons/action_go.gif"
               menubarPath="opensocialMenu/opensocialGroup2"
               toolbarPath="opensocialGroup"
               tooltip="Run this application locally.">
            <enablement>
               <objectState
	                     name="contentTypeId"
	                     value="jp.eisbahn.eclipse.plugins.osde.gadgetSpecXML">
	           </objectState>
            </enablement>
         </action>
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.runtime.production.PreviewIGoogleAction"
               enablesFor="1"
               id="jp.eisbahn.eclipse.plugins.osde.runActionPreviewOnIGoogle2"
               label="iGoogle - Preview Gadget"
               icon="icons/action_go.gif"
               menubarPath="opensocialMenu/opensocialGroup4"
               toolbarPath="opensocialGroup"
               tooltip="iGoogle - Preview Gadget">
            <enablement>
               <objectState
                   name="contentTypeId"
	               value="jp.eisbahn.eclipse.plugins.osde.gadgetSpecXML">
	           </objectState>
            </enablement>
         </action>
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.runtime.production.PublishIGoogleAction"
               enablesFor="1"
               id="jp.eisbahn.eclipse.plugins.osde.runActionPublishOnIGoogle2"
               label="iGoogle - Publish Gadget"
               icon="icons/action_go.gif"
               menubarPath="opensocialMenu/opensocialGroup4"
               toolbarPath="opensocialGroup"
               tooltip="iGoogle - Publish Gadget">
            <enablement>
               <objectState
                   name="contentTypeId"
                   value="jp.eisbahn.eclipse.plugins.osde.gadgetSpecXML">
               </objectState>
            </enablement>
         </action>
         <!--
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.runtime.production.CleanIGoogleAction"
               enablesFor="0"
               id="jp.eisbahn.eclipse.plugins.osde.runActionCleanOnIGoogle2"
               label="iGoogle - Clean Preview Files"
               icon="icons/action_go.gif"
               menubarPath="opensocialMenu/opensocialGroup4">
               toolbarPath="opensocialGroup"
               tooltip="iGoogle - Clean Preview Files">
         </action>
         -->
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.shindig.CreateSampleDataAction"
               icon="icons/icon_download.gif"
               id="jp.eisbahn.eclipse.plugins.osde.internal.shindig.CreateSampleDataAction"
               label="Create sample data in Shindig"
               menubarPath="opensocialMenu/opensocialGroup1"
               tooltip="Create sample data in Shindig database.">
         </action>
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.shindig.ShutoffShindigAction"
               icon="icons/shindig_stop.gif"
               id="jp.eisbahn.eclipse.plugins.osde.internal.shindig.ShutoffShindigAction"
               label="Shut off Apache &amp;Shindig"
               menubarPath="opensocialMenu/opensocialGroup1"
               toolbarPath="opensocialGroup"
               tooltip="Shut off Apache Shindig server.">
         </action>
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.shindig.LaunchShindigAction"
               icon="icons/shindig_start.gif"
               id="jp.eisbahn.eclipse.plugins.osde.internal.shindig.LaunchShindigAction"
               label="Launch Apache &amp;Shindig"
               menubarPath="opensocialMenu/opensocialGroup1"
               toolbarPath="opensocialGroup"
               tooltip="Launch Apache Shindig server.">
         </action>
      </actionSet>
   </extension>
   
   <extension
         point="org.eclipse.ui.commands">
      <category
            id="jp.eisbahn.eclipse.plugins.osde.commands.category1"
            name="OSDE">
      </category>
      <command
            id="jp.eisbahn.eclipse.plugins.osde.commands.runGadgetCommand"
            categoryId="jp.eisbahn.eclipse.plugins.osde.commands.category1"
            name="Run OpenSocial Application">
      </command>
      <command
            id="jp.eisbahn.eclipse.plugins.osde.commands.runLastLaunchedGadgetCommand"
            categoryId="jp.eisbahn.eclipse.plugins.osde.commands.category1"
            name="Run the last launched OpenSocial Application">
      </command>
   </extension>
     
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="jp.eisbahn.eclipse.plugins.osde.internal.ui.OsdePerspective"
            id="jp.eisbahn.eclipse.plugins.osde.perspective"
            icon="icons/opensocial.gif"
            name="OpenSocial">
      </perspective>
   </extension>
   
   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            id="jp.eisbahn.eclipse.plugins.osde.contribution2"
            objectClass="org.eclipse.core.resources.IFile">
         <menu
               id="jp.eisbahn.eclipse.plugins.osde.menu2"
               label="OSDE"
               path="additions">
            <separator
                  name="group2">
            </separator>
            <separator
                  name="group3">
            </separator>
            <separator
                  name="group4">
            </separator>
         </menu>
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.runtime.CreateJavaProjectAction"
               enablesFor="1"
               id="jp.eisbahn.eclipse.plugins.osde.createJavaProjectAction"
               label="Create Java Project for Restful Protocol"
               icon="icons/icon_wand.gif"
               menubarPath="jp.eisbahn.eclipse.plugins.osde.menu2/group3">
            <enablement>
               <objectState
                   name="contentTypeId"
	               value="jp.eisbahn.eclipse.plugins.osde.gadgetSpecXML">
	           </objectState>
            </enablement>
         </action>
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.runtime.ShowKeysAction"
               enablesFor="1"
               id="jp.eisbahn.eclipse.plugins.osde.showKeysAction"
               label="Show keys"
               icon="icons/icon_key.gif"
               menubarPath="jp.eisbahn.eclipse.plugins.osde.menu2/group3">
            <enablement>
               <objectState
                   name="contentTypeId"
	               value="jp.eisbahn.eclipse.plugins.osde.gadgetSpecXML">
	           </objectState>
            </enablement>
         </action>
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.runtime.RunAction"
               enablesFor="1"
               id="jp.eisbahn.eclipse.plugins.osde.runActionLocally"
               label="Run this application locally"
               icon="icons/action_go.gif"
               menubarPath="jp.eisbahn.eclipse.plugins.osde.menu2/group2">
            <enablement>
               <objectState
                   name="contentTypeId"
	               value="jp.eisbahn.eclipse.plugins.osde.gadgetSpecXML">
	           </objectState>
            </enablement>
         </action>
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.runtime.production.PreviewIGoogleAction"
               enablesFor="1"
               id="jp.eisbahn.eclipse.plugins.osde.runActionPreviewOnIGoogle1"
               label="iGoogle - Preview Gadget"
               icon="icons/action_go.gif"
               menubarPath="jp.eisbahn.eclipse.plugins.osde.menu2/group4">
            <enablement>
               <objectState
                   name="contentTypeId"
	               value="jp.eisbahn.eclipse.plugins.osde.gadgetSpecXML">
	           </objectState>
            </enablement>
         </action>
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.runtime.production.PublishIGoogleAction"
               enablesFor="1"
               id="jp.eisbahn.eclipse.plugins.osde.runActionPublishOnIGoogle1"
               label="iGoogle - Publish Gadget"
               icon="icons/action_go.gif"
               menubarPath="jp.eisbahn.eclipse.plugins.osde.menu2/group4">
            <enablement>
               <objectState
                   name="contentTypeId"
                   value="jp.eisbahn.eclipse.plugins.osde.gadgetSpecXML">
               </objectState>
            </enablement>
         </action>
         <!--
         <action
               class="jp.eisbahn.eclipse.plugins.osde.internal.runtime.production.CleanIGoogleAction"
               enablesFor="0"
               id="jp.eisbahn.eclipse.plugins.osde.runActionCleanOnIGoogle1"
               label="iGoogle - Clean Preview Files"
               icon="icons/action_go.gif"
               menubarPath="jp.eisbahn.eclipse.plugins.osde.menu2/group4">
         </action>
         -->
      </objectContribution>
   </extension>
   
    <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="jp.eisbahn.eclipse.plugins.osde.internal.ui.OsdePreferencePage"
            id="jp.eisbahn.eclipse.plugins.osde.internal.ui.OsdePreferencePage"
            name="OSDE">
      </page>
   </extension>
   
   <extension 
   		 point="org.eclipse.core.runtime.preferences">
   	  <initializer
   	        class="jp.eisbahn.eclipse.plugins.osde.internal.OsdePreferenceInitializer">
   	  </initializer> 
   </extension>
   
   <extension
         point="org.eclipse.ui.views">
      <category
            id="jp.eisbahn.eclipse.plugins.osde"
            name="OSDE">
      </category>
      <view
            category="jp.eisbahn.eclipse.plugins.osde"
            class="jp.eisbahn.eclipse.plugins.osde.internal.ui.views.people.PersonView"
            icon="icons/opensocial.gif"
            id="jp.eisbahn.eclipse.plugins.osde.internal.views.PersonView"
            name="People">
      </view>
      <view
            category="jp.eisbahn.eclipse.plugins.osde"
            class="jp.eisbahn.eclipse.plugins.osde.internal.ui.views.appdata.AppDataView"
            icon="icons/opensocial.gif"
            id="jp.eisbahn.eclipse.plugins.osde.internal.views.AppDataView"
            name="AppData">
      </view>
      <view
            category="jp.eisbahn.eclipse.plugins.osde"
            class="jp.eisbahn.eclipse.plugins.osde.internal.ui.views.activities.ActivitiesView"
            icon="icons/opensocial.gif"
            id="jp.eisbahn.eclipse.plugins.osde.internal.views.ActivitiesView"
            name="Activities">
      </view>
      <view
            category="jp.eisbahn.eclipse.plugins.osde"
            class="jp.eisbahn.eclipse.plugins.osde.internal.ui.views.userprefs.UserPrefsView"
            icon="icons/opensocial.gif"
            id="jp.eisbahn.eclipse.plugins.osde.internal.views.UserPrefsView"
            name="User Preferences">
      </view>
      <view
            category="jp.eisbahn.eclipse.plugins.osde"
            class="jp.eisbahn.eclipse.plugins.osde.internal.ui.views.docs.DocumentView"
            icon="icons/opensocial.gif"
            id="jp.eisbahn.eclipse.plugins.osde.internal.views.DocumentView"
            name="Docs">
      </view>
      <view
            category="jp.eisbahn.eclipse.plugins.osde"
            class="jp.eisbahn.eclipse.plugins.osde.internal.ui.views.monitor.ShindigMonitorView"
            icon="icons/opensocial.gif"
            id="jp.eisbahn.eclipse.plugins.osde.internal.views.ShindigMonitorView"
            name="Monitor">
      </view>
   </extension>
   
   <extension
         point="org.eclipse.help.toc">
      <toc
            file="toc.xml"
            primary="true">
      </toc>
   </extension>
   
   <extension point="org.eclipse.ui.bindings">
      <key sequence="M1+R"
            commandId="jp.eisbahn.eclipse.plugins.osde.commands.runGadgetCommand"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
      </key>
      <key sequence="M3+R"
            commandId="jp.eisbahn.eclipse.plugins.osde.commands.runLastLaunchedGadgetCommand"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration">
      </key>
   </extension>
   
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="jp.eisbahn.eclipse.plugins.osde.internal.editors.GadgetXmlEditor"
            default="false"
            extensions="xml"
            icon="icons/opensocial.gif"
            id="jp.eisbahn.eclipse.plugins.osde.editors.GadgetXmlEditor"
            name="Gadget Spec XML Editor">
         <contentTypeBinding contentTypeId="jp.eisbahn.eclipse.plugins.osde.gadgetSpecXML" />
      </editor>
   </extension>
   
</plugin>
