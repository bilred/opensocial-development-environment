#summary Preview on Production Container

= Introduction =

It means that a gadget-developer can easily deploy (upload) his/her
open-social gadget to a production container (say, iGoogle) from within OSDE, and then he/she can preview the gadget with live interaction with a production container.

= Feature Description =

 * task priority: p0=highest, p4=lowest

 * please see below for detailed steps

 # Developer (right-)clicks on anyone of the following
   * (done) gadget.xml
   * (p2) "Run" tab menu
   * (p2) "OSDE" tab menu
 # OSDE displays a dropdown list of functions.
 # Developer selects "Preview on production container" and a (dropdown sub-menu) list of container options appear.
   * (done) Support iGoogle container
   * (p1~p4) Support more containers.
 # OSDE pops up a dialog asking for:
   * (done) google account and password
     * (p2) if developer has already input account/password info, OSDE stores the corresponding session tokens and does not ask for account/password again during the current session.
   * (done) a checkbox asking whether to use external browser or not
   * (p2) preview home view or canvas view
   * (p3) country and language
 # Devloper clicks on OK button
 # OSDE interacts with iGoogle server to authenticate the user
 # OSDE uploads gadget files to iGoogle server
   * (done) support one gadget xml file
   * (p2) support multiple files
 # OSDE opens a browser
 # OSDE previews the gadget against iGoogle production server.
   * (done) support previewing the whole iframe of the gadget
   * (p3) support interacting with the whole iGoogle container (not just inside the iframe of the gadget) during preview.

= Known Bug(s) =

 * (p0) Uploading file fails.
   * Description: Developer might see an old version of gadget file (if already uploaded) during preview. Developer might be able to successfully see the new gadget file if he/she continue to try to use this preview function several times.
   * Analysis: originally, I thought it is some kind of caching problem because developer can eventually see the new uploaded gadget file. After careful tracing, I found out it is caused by silent failure of file upload. I guess it might be caused by the Captcha authentication, but I am not sure yet. I will further investigate it soon.


= References =

 * Issue 39 (http://code.google.com/p/opensocial-development-environment/issues/detail?id=39)